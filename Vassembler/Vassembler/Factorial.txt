in
pop rax
push rax
pop rcx

call check_n_null

call factorial

end:
    push rcx
    out
    hlt

factorial:
    push rax
    push 1
    sub
    push 0
    je end

push rax
push 1
sub
push rcx
mult
pop rcx

push rax
push 1
sub
pop rax

call factorial
ret

check_n_null:
    push rax
    push 0
    je n_is_null
    ret

n_is_null:
    push 1
    out
    hlt